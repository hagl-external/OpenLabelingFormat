{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://github.com/ADAS-API/OpenLabelFormat/blob/master/schema.json",
    "type": "object",
    "title": "OpenLabelFormat",
    "description": "Created with Liquid Studio 2019 (https://www.liquid-technologies.com)",
    "additionalProperties": false,
    "properties": {
        "versionInfo": {
            "type": "object",
            "description": "Versions of schema and label files as string",
            "additionalProperties": false,
            "properties": {
                "schema": {
                    "type": "string",
                    "description": "string containing version of schema used for validation"
                },
                "labelFile": {
                    "type": "string",
                    "description": "string containing version of label file"
                },
                "history": {
                    "$ref": "#/definitions/history"
                }
            },
            "required": [
                "schema",
                "labelFile"
            ]
        },
        "projectInfo": {
            "type": "object",
            "description": "project settings",
            "additionalProperties": false,
            "properties": {
                "start": {
                    "type": "number",
                    "description": "configured start frame or time within media file",
                    "minimum": 0
                },
                "end": {
                    "type": "number",
                    "description": "configured end frame or time within media file",
                    "minimum": 0
                },
                "skip": {
                    "type": "number",
                    "description": "configured frame or time skip within media file",
                    "minimum": 0
                },
                "unit": {
                    "type": "string",
                    "description": "unit of configured start/end/skip settings",
                    "enum": [
                        "frames",
                        "ms",
                        "s"
                    ]
                },
                "history": {
                    "$ref": "#/definitions/history"
                }
            },
            "required": [
                "start",
                "end",
                "skip",
                "unit",
                "history"
            ]
        },
        "mediaInfo": {
            "type": "object",
            "description": "details about corresponding media file",
            "additionalProperties": false,
            "properties": {
                "uuid": {
                    "type": "string",
                    "description": "36-hex-digit uuid string containing dashes, i. e. 8-4-4-4-12",
                    "maxLength": 36,
                    "minLength": 36,
                    "format": "uuid"
                },
                "name": {
                    "type": "string",
                    "description": "name of corresponding media file"
                },
                "url": {
                    "type": "string",
                    "description": "url pointing to the media file"
                },
                "type": {
                    "type": "string",
                    "description": "media MIME type",
                    "enum": [
                        "image/jpeg",
                        "image/png",
                        "video/mp4",
                        "video/x-msvideo",
                        "pointcloud/pcl"
                    ]
                },
                "codec": {
                    "type": "string",
                    "description": "media codec"
                },
                "duration": {
                    "type": "number",
                    "description": "duration of mediafile in seconds, -1 if not applicable",
                    "minimum": -1
                },
                "framerate": {
                    "type": "integer",
                    "description": "framerate of media file, -1 if not applicable",
                    "minimum": -1
                },
                "width": {
                    "type": "integer",
                    "description": "spatial horizontal resolution, -1 if not applicable",
                    "minimum": -1
                },
                "height": {
                    "type": "integer",
                    "description": "spatial vertical resolution, -1 if not applicable",
                    "minimum": -1
                },
                "history": {
                    "$ref": "#/definitions/history"
                }
            },
            "required": [
                "type",
                "url",
                "uuid",
                "name",
                "codec",
                "duration",
                "framerate",
                "width",
                "height",
                "history"
            ]
        },
        "calibrationInfo": {
            "type": "object",
            "description": "details about corresponding calibration file",
            "additionalProperties": false,
            "properties": {
                "uuid": {
                    "type": "string",
                    "description": "36-hex-digit uuid string containing dashes, i. e. 8-4-4-4-12",
                    "maxLength": 36,
                    "minLength": 36,
                    "format": "uuid"
                },
                "name": {
                    "type": "string",
                    "description": "name of corresponding calibration file"
                },
                "url": {
                    "type": "string",
                    "description": "url pointing to the calibration file"
                },
                "coordinateSystem": {
                    "$ref": "#/definitions/coordinateSystem"
                },
                "history": {
                    "$ref": "#/definitions/history"
                }
            },
            "required": [
                "uuid",
                "name",
                "url",
                "coordinateSystem",
                "history"
            ]
        },
        "odometryInfo": {
            "type": "object",
            "description": "details about corresponding odometry file",
            "additionalProperties": false,
            "properties": {
                "uuid": {
                    "type": "string",
                    "description": "36-hex-digit uuid string containing dashes, i. e. 8-4-4-4-12",
                    "maxLength": 36,
                    "minLength": 36,
                    "format": "uuid"
                },
                "name": {
                    "type": "string",
                    "description": "name of corresponding odometry file"
                },
                "url": {
                    "type": "string",
                    "description": "url pointing to the odometry file"
                },
                "history": {
                    "$ref": "#/definitions/history"
                }
            },
            "required": [
                "uuid",
                "name",
                "url",
                "history"
            ]
        },
        "positionInfo": {
            "type": "object",
            "description": "details about corresponding position data file, e.g. GPS",
            "additionalProperties": false,
            "properties": {
                "uuid": {
                    "type": "string",
                    "description": "36-hex-digit uuid string containing dashes, i. e. 8-4-4-4-12",
                    "maxLength": 36,
                    "minLength": 36,
                    "format": "uuid"
                },
                "name": {
                    "type": "string",
                    "description": "name of corresponding position file"
                },
                "url": {
                    "type": "string",
                    "description": "url pointing to the position file"
                },
                "history": {
                    "$ref": "#/definitions/history"
                }
            },
            "required": [
                "uuid",
                "name",
                "url",
                "history"
            ]
        },
        "metaInfo": {
            "type": "array",
            "description": "array of attributes valid for parts of or the entire media file",
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "uuid": {
                        "type": "string",
                        "description": "36-hex-digit uuid string containing dashes, i. e. 8-4-4-4-12",
                        "maxLength": 36,
                        "minLength": 36,
                        "format": "uuid"
                    },
                    "name": {
                        "type": "string",
                        "description": "name of attribute as string"
                    },
                    "type": {
                        "type": "string",
                        "description": "type of attribute as string"
                    },
                    "validity": {
                        "$ref": "#/definitions/temporalValidity"
                    },
                    "history": {
                        "$ref": "#/definitions/history"
                    }
                },
                "required": [
                    "uuid",
                    "name",
                    "type",
                    "validity",
                    "history"
                ]
            }
        },
        "objects": {
            "type": "array",
            "description": "array of labeled objects",
            "items": {
                "$ref": "#/definitions/object"
            }
        }
    },
    "required": [
        "mediaInfo",
        "calibrationInfo",
        "odometryInfo",
        "objects",
        "versionInfo",
        "projectInfo",
        "positionInfo",
        "metaInfo"
    ],
    "definitions": {
        "agent": {
            "type": "object",
            "description": "properties of a label agent",
            "additionalProperties": false,
            "properties": {
                "uuid": {
                    "type": "string",
                    "description": "36-hex-digit uuid string containing dashes, i. e. 8-4-4-4-12",
                    "maxLength": 36,
                    "minLength": 36,
                    "format": "uuid"
                },
                "dateTime": {
                    "type": "string",
                    "description": "date-time as defined by RFC3339",
                    "format": "date-time"
                }
            },
            "required": [
                "uuid",
                "dateTime"
            ]
        },
        "history": {
            "type": "object",
            "description": "tracks the history of an attribute or object",
            "additionalProperties": false,
            "properties": {
                "created": {
                    "$ref": "#/definitions/agent"
                },
                "modified": {
                    "$ref": "#/definitions/agent"
                }
            },
            "required": [
                "created",
                "modified"
            ]
        },
        "relation": {
            "type": "object",
            "description": "relations from an object to other or objects",
            "additionalProperties": false,
            "anyOf": [
                {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "uuidOfParent": {
                            "type": "string",
                            "description": "36-hex-digit uuid string containing dashes, i. e. 8-4-4-4-12",
                            "maxLength": 36,
                            "minLength": 36,
                            "format": "uuid"
                        }
                    },
                    "required": [
                        "uuidOfParent"
                    ]
                },
                {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "uuidOfSibling": {
                            "type": "string",
                            "description": "36-hex-digit uuid string containing dashes, i. e. 8-4-4-4-12",
                            "maxLength": 36,
                            "minLength": 36,
                            "format": "uuid"
                        }
                    },
                    "required": [
                        "uuidOfSibling"
                    ]
                },
                {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "uuidOfChild": {
                            "type": "string",
                            "description": "36-hex-digit uuid string containing dashes, i. e. 8-4-4-4-12",
                            "maxLength": 36,
                            "minLength": 36,
                            "format": "uuid"
                        }
                    },
                    "required": [
                        "uuidOfChild"
                    ]
                }
            ]
        },
        "temporalValidity": {
            "type": "object",
            "description": "temporal validity of an object or attribute",
            "additionalProperties": false,
            "properties": {
                "start": {
                    "type": "number",
                    "description": "start of temporal validity",
                    "minimum": 0
                },
                "end": {
                    "type": "number",
                    "description": "end of temporal validity",
                    "minimum": 0
                },
                "unit": {
                    "type": "string",
                    "description": "unit of temporal validity"
                }
            },
            "required": [
                "start",
                "end",
                "unit"
            ]
        },
        "coordinate1D": {
            "type": "object",
            "description": "cartesian coordinate in 2d space",
            "additionalProperties": false,
            "properties": {
                "x": {
                    "type": "number",
                    "description": "x-coordinate"
                },
                "unit": {
                    "type": "string",
                    "description": "unit of coordinates",
                    "enum": [
                        "px",
                        "mm",
                        "cm",
                        "m"
                    ]
                }
            },
            "required": [
                "x"
            ]
        },
        "coordinate2D": {
            "type": "object",
            "description": "cartesian coordinate in 2d space",
            "additionalProperties": false,
            "properties": {
                "x": {
                    "type": "number",
                    "description": "x-coordinate"
                },
                "y": {
                    "type": "number",
                    "description": "y-coordinate"
                },
                "unit": {
                    "type": "string",
                    "description": "unit of coordinates",
                    "enum": [
                        "px",
                        "mm",
                        "cm",
                        "m"
                    ]
                }
            },
            "required": [
                "x",
                "y",
                "unit"
            ]
        },
        "coordinate3D": {
            "type": "object",
            "description": "cartesian coordinate in 3d space",
            "additionalProperties": false,
            "properties": {
                "x": {
                    "type": "number",
                    "description": "x-coordinate"
                },
                "y": {
                    "type": "number",
                    "description": "y-coordinate"
                },
                "z": {
                    "type": "number",
                    "description": "z-coordinate"
                },
                "unit": {
                    "type": "string",
                    "description": "unit of coordinates",
                    "enum": [
                        "px",
                        "mm",
                        "cm",
                        "m"
                    ]
                }
            },
            "required": [
                "x",
                "y",
                "z",
                "unit"
            ]
        },
        "rotation2D": {
            "type": "object",
            "description": "defines rotation in 1D space",
            "additionalProperties": false,
            "properties": {
                "angle": {
                    "type": "number",
                    "description": "rotation angle",
                    "maximum": 360,
                    "minimum": -360
                },
                "unit": {
                    "type": "string",
                    "enum": [
                        "deg",
                        "rad"
                    ]
                }
            }
        },
        "rotation3D": {
            "type": "object",
            "description": "defines rotation in 3D space",
            "additionalProperties": false,
            "properties": {
                "x": {
                    "type": "number",
                    "description": "rotation around x axis",
                    "maximum": 360,
                    "minimum": -360
                },
                "y": {
                    "type": "number",
                    "description": "rotation around y axis",
                    "maximum": 360,
                    "minimum": -360
                },
                "z": {
                    "type": "number",
                    "description": "rotation around z axis",
                    "maximum": 360,
                    "minimum": -360
                },
                "unit": {
                    "type": "string",
                    "enum": [
                        "deg",
                        "rad"
                    ]
                }
            }
        },
        "coordinateSystem": {
            "type": "object",
            "description": "coordinates are stated relative to this coordinate system",
            "additionalProperties": false,
            "required": [],
            "anyOf": [
                {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "coordinateSystem2D": {
                            "type": "object",
                            "description": "2D coordinate system given by a 2D translation and a scalar rotation",
                            "additionalProperties": false,
                            "properties": {
                                "translation": {
                                    "$ref": "#/definitions/coordinate2D"
                                },
                                "rotation": {
                                    "$ref": "#/definitions/rotation2D"
                                }
                            },
                            "required": [
                                "translation",
                                "rotation"
                            ]
                        }
                    },
                    "required": [
                        "coordinateSystem2D"
                    ]
                },
                {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "coordinateSystem3D": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                                "translation": {
                                    "$ref": "#/definitions/coordinate3D"
                                },
                                "rotation": {
                                    "$ref": "#/definitions/rotation3D"
                                }
                            },
                            "required": [
                                "translation",
                                "rotation"
                            ]
                        }
                    },
                    "required": [
                        "coordinateSystem3D"
                    ]
                }
            ]
        },
        "shape2D": {
            "type": "object",
            "description": "defines 2D shapes of an 2D object",
            "additionalProperties": false,
            "required": [],
            "anyOf": [
                {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "line2D": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                                "start": {
                                    "$ref": "#/definitions/coordinate2D"
                                },
                                "end": {
                                    "$ref": "#/definitions/coordinate2D"
                                }
                            },
                            "required": [
                                "start",
                                "end"
                            ]
                        }
                    },
                    "required": [
                        "line2D"
                    ]
                },
                {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "box2D": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                                "topLeft": {
                                    "$ref": "#/definitions/coordinate2D"
                                },
                                "bottomRight": {
                                    "$ref": "#/definitions/coordinate2D"
                                },
                                "rotation": {
                                    "$ref": "#/definitions/rotation2D"
                                }
                            },
                            "required": [
                                "topLeft",
                                "bottomRight",
                                "rotation"
                            ]
                        }
                    },
                    "required": [
                        "box2D"
                    ]
                },
                {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "points2D": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/coordinate2D"
                            }
                        }
                    },
                    "required": [
                        "points2D"
                    ]
                },
                {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "mask2D": {
                            "type": "string",
                            "description": "Run-length encoded (RLE)"
                        }
                    },
                    "required": [
                        "mask2D"
                    ]
                },
                {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "polyLine2D": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/coordinate2D"
                            }
                        }
                    },
                    "required": [
                        "polyLine2D"
                    ]
                },
                {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "polygon2D": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/coordinate2D"
                            }
                        }
                    },
                    "required": [
                        "polygon2D"
                    ]
                },
                {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "ellipse2D": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                                "center": {
                                    "$ref": "#/definitions/coordinate2D"
                                },
                                "semi-major": {
                                    "$ref": "#/definitions/coordinate1D"
                                },
                                "semi-minor": {
                                    "$ref": "#/definitions/coordinate1D"
                                },
                                "rotation": {
                                    "$ref": "#/definitions/rotation2D"
                                }
                            },
                            "required": [
                                "center",
                                "semi-major",
                                "semi-minor",
                                "rotation"
                            ]
                        }
                    },
                    "required": [
                        "ellipse2D"
                    ]
                }
            ]
        },
        "shape3D": {
            "type": "object",
            "description": "defines 3D shapes of an 3D object",
            "additionalProperties": false,
            "required": [],
            "anyOf": [
                {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "line3D": {
                            "type": "object",
                            "description": "Defines a line from 2 points",
                            "additionalProperties": false,
                            "properties": {
                                "start": {
                                    "$ref": "#/definitions/coordinate3D"
                                },
                                "end": {
                                    "$ref": "#/definitions/coordinate3D"
                                }
                            },
                            "required": [
                                "start",
                                "end"
                            ]
                        }
                    },
                    "required": [
                        "line3D"
                    ]
                },
                {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "plane3D": {
                            "type": "object",
                            "description": "Defines a plane from 3 vectors",
                            "additionalProperties": false,
                            "properties": {
                                "vectorP": {
                                    "$ref": "#/definitions/coordinate3D"
                                },
                                "vectorU": {
                                    "$ref": "#/definitions/coordinate3D"
                                },
                                "vectorV": {
                                    "$ref": "#/definitions/coordinate3D"
                                }
                            },
                            "required": [
                                "vectorV",
                                "vectorU",
                                "vectorP"
                            ]
                        }
                    },
                    "required": [
                        "plane3D"
                    ]
                },
                {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "points3D": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/coordinate3D"
                            }
                        }
                    },
                    "required": [
                        "points3D"
                    ]
                },
                {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "box3D": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                                "topLeft": {
                                    "$ref": "#/definitions/coordinate3D"
                                },
                                "bottomRight": {
                                    "$ref": "#/definitions/coordinate3D"
                                },
                                "rotation": {
                                    "$ref": "#/definitions/rotation3D"
                                }
                            },
                            "required": [
                                "rotation",
                                "bottomRight",
                                "topLeft"
                            ]
                        }
                    },
                    "required": [
                        "box3D"
                    ]
                }
            ]
        },
        "shape": {
            "type": "object",
            "description": "defines different shapes of an object",
            "additionalProperties": false,
            "anyOf": [
                {
                    "$ref": "#/definitions/shape2D"
                },
                {
                    "$ref": "#/definitions/shape3D"
                }
            ]
        },
        "object": {
            "type": "object",
            "description": "defines one object to be labeled",
            "additionalProperties": false,
            "properties": {
                "id": {
                    "type": "integer",
                    "description": "internal id",
                    "minimum": -1
                },
                "uuid": {
                    "type": "string",
                    "description": "36-hex-digit uuid string containing dashes, i. e. 8-4-4-4-12",
                    "maxLength": 36,
                    "minLength": 36,
                    "format": "uuid"
                },
                "history": {
                    "$ref": "#/definitions/history"
                },
                "validity": {
                    "$ref": "#/definitions/temporalValidity"
                },
                "attributes": {
                    "type": "array",
                    "description": "attributes of this object",
                    "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                            "uuid": {
                                "type": "string",
                                "description": "36-hex-digit uuid string containing dashes, i. e. 8-4-4-4-12",
                                "maxLength": 36,
                                "minLength": 36,
                                "format": "uuid"
                            },
                            "name": {
                                "type": "string",
                                "description": "name of attribute as string"
                            },
                            "type": {
                                "type": "string",
                                "description": "type of attribute as string"
                            }
                        }
                    }
                },
                "shapes": {
                    "type": "array",
                    "description": "shapes of this object",
                    "items": {
                        "$ref": "#/definitions/shape"
                    }
                },
                "relations": {
                    "type": "array",
                    "description": "relations of this object to other objects",
                    "items": {
                        "$ref": "#/definitions/relation"
                    }
                }
            },
            "required": [
                "id",
                "uuid",
                "history",
                "validity",
                "attributes",
                "shapes",
                "relations"
            ]
        }
    }
}